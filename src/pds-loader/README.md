# PDS Loader

Utility for loading PDS file data formats as described [here](https://pds.nasa.gov/datastandards/pds3/standards/). Example files available [here](https://pds.nasa.gov/datastandards/documents/examples/).

!> Note that this package is built to support specific downlink products and does not support the whole PDS spec as a result. The loader can be expanded as needed.

<!--{example pds-loader.js}-->
<!--{package-dependencies ./package.json}-->

# Use

```js
import { PDSLoader } from '@gov.nasa.jpl.honeycomb/pds-loader';
const loader = new PDSLoader();
loader.load('./path/to/file.vicar').then(res => {

    // ... pds file contents ...

});
```

# API

<!-- START_AUTOGENERATED_DOCS -->
## PDSResult

### labels<a name="PDSResult#labels"></a>

```js
labels : Array<{ isLabelGroup : Boolean, name : String, value : any }>
```


The set of header labels in the file. This includes both the header
and EOL extension labels if present.


### product<a name="PDSResult#product"></a>

```js
product : VicarResult | null = null
```


The image stored in the file based on the [Vicar loader result](../vicar-loader/README.md#VicarResult).

This is present only if there are no product pointers in the header OR if there are only `IMAGE` and
`IMAGE_HEADER` objects that point to Vicar data in the same file.


### products<a name="PDSResult#products"></a>

```js
products : Array<VicarResult | null> = null
```


The set of products pointed to by the header in either this file or separate ones.

!> Note this is not currently implemented and separated data products will never be represented here.


## PDSLoader

Class for loading and parsing PDS files.

### fetchOptions<a name="PDSLoader#fetchOptions"></a>

```js
fetchOptions : Object = { credentials: 'same-origin' }
```


Fetch options for loading the file.


### load<a name="PDSLoader#load"></a>

```js
load( url : String ) : Promise<PDSResult>
```

Loads and parses the PDS file. The promise resolves with the returned
data from the [parse](#PDSLoader#parse) function.

### parse<a name="PDSLoader#parse"></a>

```js
parse( buffer : Uint8Array | ArrayBuffer ) : PDSResult
```

Parses the contents of the given PDS file and returns an object describing
the telemetry.


<!-- END_AUTOGENERATED_DOCS -->
